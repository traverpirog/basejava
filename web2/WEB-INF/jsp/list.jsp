<%@ page import="com.javaops.webapp.model.ContactType" %>
<%@ page contentType="text/html; charset=utf-8" pageEncoding="utf-8" %>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<jsp:include page="/WEB-INF/fragments/header.jsp">
    <jsp:param name="title" value="Все резюме"/>
</jsp:include>
<main>
    <section class="container">
        <div style="display: flex;align-items: center;gap: 24px;margin-bottom: 24px;">
            <h1 style="margin-bottom: 0;">Все резюме</h1>
            <a href="resume?action=create" class="button">Создать</a>
        </div>
        <table>
            <thead>
            <tr>
                <th>Имя</th>
                <th>Email</th>
                <th></th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <jsp:useBean id="resumes" scope="request" type="java.util.List"/>
            <c:forEach items="${resumes}" var="resume">
                <jsp:useBean id="resume" type="com.javaops.webapp.model.Resume"/>
                <tr>
                    <td><a href="resume?uuid=<%= resume.getUuid() %>&action=view"><%= resume.getFullName() %>
                    </a></td>
                    <td><%= ContactType.EMAIL.toHtml(resume.getContacts().get(ContactType.EMAIL)) %>
                    </td>
                    <td style="text-align: center;">
                        <a class="orange" href="resume?uuid=<%= resume.getUuid()%>&action=edit">
                            <svg width="16" height="16" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                      d="M50.5625 1.66251C51.575 0.88751 52.8375 0.38751 54.0625 0.25001C55.7 0.0750104 57.5125 0.47501 58.8125 1.28751C59.6875 1.82501 62.2875 4.41251 62.875 5.31251C63.1375 5.72501 63.5125 6.51251 63.6875 7.06251C64 7.98751 64.025 8.18751 63.975 9.56251C63.9 11.2625 63.7 11.95 62.8625 13.2625C62.4875 13.8375 58.4 18.025 48.025 28.4125C40.1375 36.3 33.525 42.8625 33.3125 43C32.85 43.2875 19.475 47.0125 18.8625 47.025C17.925 47.0375 17.2125 46.325 17.225 45.3875C17.2375 44.7625 20.9625 31.4125 21.25 30.9375C21.5375 30.4875 49.85 2.20001 50.5625 1.66251ZM58.65 5.60001C57.6125 4.57501 56.9875 4.05001 56.5625 3.86251C56.2 3.70001 55.6 3.56251 55.125 3.53751C53.8 3.46251 52.7375 4.02501 51.125 5.67501L50.5625 6.25001L54.2875 9.97501L58.0125 13.6875L59.025 12.625C60.3375 11.2625 60.6875 10.5375 60.6875 9.25001C60.6875 7.85001 60.4125 7.37501 58.65 5.60001ZM32.4375 39.25L44.0375 27.65L55.625 16.0625L51.9 12.3375L48.1875 8.62501L36.5875 20.225L25 31.8125L28.725 35.5375L32.4375 39.25ZM21.2875 42.9625C21.35 43.0125 29.125 40.8375 29.125 40.7625C29.125 40.7125 27.85 39.4125 26.2875 37.85L23.4375 35L22.35 38.9625C21.75 41.15 21.275 42.9375 21.2875 42.9625ZM0.1875 12.4375C0.9125 9.60001 3.4125 7.17501 6.25 6.57501C6.8875 6.43751 8.675 6.38751 14.725 6.38751C21.65 6.37501 22.4375 6.40001 22.8375 6.58751C24 7.13751 24.0625 8.77501 22.95 9.45001C22.5875 9.67501 22.125 9.68751 14.6875 9.75001L6.8125 9.81251L6 10.2C4.5875 10.875 3.675 12.05 3.375 13.5625C3.275 14.1125 3.25 20.05 3.275 35.625L3.3125 56.9375L3.6125 57.6875C4.025 58.7 5.0125 59.7375 6.0375 60.2L6.8125 60.5625L30.1 60.6C52.7659 60.6219 54.0946 60.682 54.9585 60.0776C55.0822 59.9911 55.1965 59.8909 55.3625 59.775C55.7375 59.5125 56.25 59 56.5125 58.6375C56.6738 58.4003 56.8049 58.213 56.9115 58.0128C57.3834 57.1265 57.375 55.9848 57.375 49.1125C57.375 42.1665 57.358 41.1601 57.8516 40.6896C57.9559 40.5904 58.0827 40.5149 58.2375 40.4125C59 39.9 59.975 40.1625 60.5 41.025C60.7375 41.425 60.75 41.675 60.75 48.9375C60.75 53.575 60.7 56.75 60.6125 57.25C60.35 58.9 59.525 60.475 58.3125 61.675C57.425 62.55 56.4625 63.1375 55.1875 63.5875L54.1875 63.9375H30.375C7.6125 63.9375 6.525 63.925 5.8125 63.7125C3.125 62.8875 0.975 60.725 0.2625 58.125C0 57.2 0 57.0375 0 35.1875C0 15.9375 0.025 13.0875 0.1875 12.4375Z"></path>
                            </svg>
                        </a>
                    </td>
                    <td style="text-align: center">
                        <a class="red" href="resume?uuid=<%= resume.getUuid()%>&action=delete">
                            <svg width="16" height="16" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                      d="M57.8284 11.8284C59.3905 10.2663 59.3905 7.73367 57.8284 6.17157C56.2663 4.60948 53.7337 4.60948 52.1716 6.17157L32.5 25.8431L12.8284 6.17157C11.2663 4.60948 8.73367 4.60948 7.17157 6.17157C5.60948 7.73367 5.60948 10.2663 7.17157 11.8284L26.8431 31.5L7.17157 51.1716C5.60948 52.7337 5.60948 55.2663 7.17157 56.8284C8.73367 58.3905 11.2663 58.3905 12.8284 56.8284L32.5 37.1569L52.1716 56.8284C53.7337 58.3905 56.2663 58.3905 57.8284 56.8284C59.3905 55.2663 59.3905 52.7337 57.8284 51.1716L38.1569 31.5L57.8284 11.8284Z"></path>
                            </svg>
                        </a>
                    </td>
                </tr>
            </c:forEach>
            </tbody>
        </table>
    </section>
</main>
<jsp:include page="/WEB-INF/fragments/footer.jsp"/>